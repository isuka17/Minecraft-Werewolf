# 風船を利き手に持っているプレイヤー
scoreboard players add @a[predicate=isuka17_mwd:items/balloon/mainhand] mwd_items_balloon 1
effect give @a[predicate=isuka17_mwd:items/balloon/mainhand] minecraft:levitation 1 3 true
execute as @a unless entity @s[predicate=isuka17_mwd:items/balloon/mainhand] run effect clear @s[nbt={ActiveEffects:[{Id:25,Amplifier:3b}]}] minecraft:levitation
execute at @a[predicate=isuka17_mwd:items/balloon/mainhand] run particle minecraft:cloud ~ ~0.5 ~ 0.1 0 0.1 0.1 1 force @a

# 風船が壊れた時
tellraw @a[predicate=isuka17_mwd:items/balloon/detected_damage/1] [{"text":"風船は割れてしまった...。","color":"green"}]
execute as @a[predicate=isuka17_mwd:items/balloon/detected_damage/1] at @s run playsound minecraft:entity.firework_rocket.blast master @a ~ ~ ~ 2 1.3

# 耐久値を変更
item replace entity @a[predicate=isuka17_mwd:items/balloon/detected_damage/1] weapon.mainhand with air
item replace entity @a[predicate=isuka17_mwd:items/balloon/detected_damage/2] weapon.mainhand with minecraft:slime_ball{display:{Name:'[{"text":"風船 ","color":"green","italic":false},{"text":"[1/10]","color":"gray","italic":false}]',Lore:['[{"text":"[","color":"white","italic":false},{"keybind":"key.sneak","color":"light_purple","italic":false},{"text":"] で使用","color":"white","italic":false}]','[{"text":"10秒間、","color":"white","italic":false},{"keybind":"key.sneak","color":"light_purple","italic":false},{"text":"を押している間だけ浮遊できる。","color":"white","italic":false}]']},balloon_damage:1,balloon:1}
item replace entity @a[predicate=isuka17_mwd:items/balloon/detected_damage/3] weapon.mainhand with minecraft:slime_ball{display:{Name:'[{"text":"風船 ","color":"green","italic":false},{"text":"[2/10]","color":"gray","italic":false}]',Lore:['[{"text":"[","color":"white","italic":false},{"keybind":"key.sneak","color":"light_purple","italic":false},{"text":"] で使用","color":"white","italic":false}]','[{"text":"10秒間、","color":"white","italic":false},{"keybind":"key.sneak","color":"light_purple","italic":false},{"text":"を押している間だけ浮遊できる。","color":"white","italic":false}]']},balloon_damage:2,balloon:1}
item replace entity @a[predicate=isuka17_mwd:items/balloon/detected_damage/4] weapon.mainhand with minecraft:slime_ball{display:{Name:'[{"text":"風船 ","color":"green","italic":false},{"text":"[3/10]","color":"gray","italic":false}]',Lore:['[{"text":"[","color":"white","italic":false},{"keybind":"key.sneak","color":"light_purple","italic":false},{"text":"] で使用","color":"white","italic":false}]','[{"text":"10秒間、","color":"white","italic":false},{"keybind":"key.sneak","color":"light_purple","italic":false},{"text":"を押している間だけ浮遊できる。","color":"white","italic":false}]']},balloon_damage:3,balloon:1}
item replace entity @a[predicate=isuka17_mwd:items/balloon/detected_damage/5] weapon.mainhand with minecraft:slime_ball{display:{Name:'[{"text":"風船 ","color":"green","italic":false},{"text":"[4/10]","color":"gray","italic":false}]',Lore:['[{"text":"[","color":"white","italic":false},{"keybind":"key.sneak","color":"light_purple","italic":false},{"text":"] で使用","color":"white","italic":false}]','[{"text":"10秒間、","color":"white","italic":false},{"keybind":"key.sneak","color":"light_purple","italic":false},{"text":"を押している間だけ浮遊できる。","color":"white","italic":false}]']},balloon_damage:4,balloon:1}
item replace entity @a[predicate=isuka17_mwd:items/balloon/detected_damage/6] weapon.mainhand with minecraft:slime_ball{display:{Name:'[{"text":"風船 ","color":"green","italic":false},{"text":"[5/10]","color":"gray","italic":false}]',Lore:['[{"text":"[","color":"white","italic":false},{"keybind":"key.sneak","color":"light_purple","italic":false},{"text":"] で使用","color":"white","italic":false}]','[{"text":"10秒間、","color":"white","italic":false},{"keybind":"key.sneak","color":"light_purple","italic":false},{"text":"を押している間だけ浮遊できる。","color":"white","italic":false}]']},balloon_damage:5,balloon:1}
item replace entity @a[predicate=isuka17_mwd:items/balloon/detected_damage/7] weapon.mainhand with minecraft:slime_ball{display:{Name:'[{"text":"風船 ","color":"green","italic":false},{"text":"[6/10]","color":"gray","italic":false}]',Lore:['[{"text":"[","color":"white","italic":false},{"keybind":"key.sneak","color":"light_purple","italic":false},{"text":"] で使用","color":"white","italic":false}]','[{"text":"10秒間、","color":"white","italic":false},{"keybind":"key.sneak","color":"light_purple","italic":false},{"text":"を押している間だけ浮遊できる。","color":"white","italic":false}]']},balloon_damage:6,balloon:1}
item replace entity @a[predicate=isuka17_mwd:items/balloon/detected_damage/8] weapon.mainhand with minecraft:slime_ball{display:{Name:'[{"text":"風船 ","color":"green","italic":false},{"text":"[7/10]","color":"gray","italic":false}]',Lore:['[{"text":"[","color":"white","italic":false},{"keybind":"key.sneak","color":"light_purple","italic":false},{"text":"] で使用","color":"white","italic":false}]','[{"text":"10秒間、","color":"white","italic":false},{"keybind":"key.sneak","color":"light_purple","italic":false},{"text":"を押している間だけ浮遊できる。","color":"white","italic":false}]']},balloon_damage:7,balloon:1}
item replace entity @a[predicate=isuka17_mwd:items/balloon/detected_damage/9] weapon.mainhand with minecraft:slime_ball{display:{Name:'[{"text":"風船 ","color":"green","italic":false},{"text":"[8/10]","color":"gray","italic":false}]',Lore:['[{"text":"[","color":"white","italic":false},{"keybind":"key.sneak","color":"light_purple","italic":false},{"text":"] で使用","color":"white","italic":false}]','[{"text":"10秒間、","color":"white","italic":false},{"keybind":"key.sneak","color":"light_purple","italic":false},{"text":"を押している間だけ浮遊できる。","color":"white","italic":false}]']},balloon_damage:8,balloon:1}
item replace entity @a[predicate=isuka17_mwd:items/balloon/detected_damage/10] weapon.mainhand with minecraft:slime_ball{display:{Name:'[{"text":"風船 ","color":"green","italic":false},{"text":"[9/10]","color":"gray","italic":false}]',Lore:['[{"text":"[","color":"white","italic":false},{"keybind":"key.sneak","color":"light_purple","italic":false},{"text":"] で使用","color":"white","italic":false}]','[{"text":"10秒間、","color":"white","italic":false},{"keybind":"key.sneak","color":"light_purple","italic":false},{"text":"を押している間だけ浮遊できる。","color":"white","italic":false}]']},balloon_damage:9,balloon:1}

# スコアをセット
scoreboard players set @a[scores={mwd_items_balloon=20..}] mwd_items_balloon 0